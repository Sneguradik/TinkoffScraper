# Tinkoff Scraper

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö (–ª—É—á—à–∏–µ –∑–∞—è–≤–∫–∏/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å–¥–µ–ª–∫–∞) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ Tinkoff API. –î–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä–æ–≤ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ CSV, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ CSV.

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ò–º–ø–æ—Ä—Ç —Ç–∏–∫–µ—Ä–æ–≤ –∏–∑ CSV
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å API
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ CSV
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Sneguradik/TinkoffScraper.git
cd TinkoffScraper
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv venv
```

### 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Windows:
```bash
venv\Scripts\activate
```
- Linux/macOS:
```bash
source venv/bin/activate
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª .env —Ä—è–¥–æ–º —Å main.py –∏ –¥–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É:
```dotenv
TOKEN=–≤–∞—à_API_—Ç–æ–∫–µ–Ω
```

## üìÑ –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω–æ–≥–æ CSV
CSV-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É ticker –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤ –≤ –ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ:
```csv
Tickers
SBER
GAZP
ELMT
```

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
```bash
python main.py --i path/to/input.csv --o path/to/output.csv
```
### –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
| –ê—Ä–≥—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                  | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| -------- | ------------------------- | ------------ | --------------------- |
| `--i`    | –ü—É—Ç—å –∫ CSV —Å —Ç–∏–∫–µ—Ä–∞–º–∏     | ‚úÖ –¥–∞         | ‚Äî                     |
| `--o`    | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤—ã–≤–æ–¥–∞ (CSV) | ‚ùå –Ω–µ—Ç        | `output.csv`          |

## üìÇ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ CSV
```csv
figi,isin,ticker,class_code,
best_bid_price,best_bid_volume,best_bid_direction,best_bid_time,
best_offer_price,best_offer_volume,best_offer_direction,best_offer_time,
last_deal_price,last_deal_volume,last_deal_direction,last_deal_time
```
